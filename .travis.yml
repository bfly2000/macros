language: scala
scala:
- 2.12.1
- 2.11.8
jdk:
- oraclejdk8
install:
- ". $HOME/.nvm/nvm.sh"
- nvm install stable
- nvm use stable
- npm install
- npm install jsdom source-map-support jsdom-global
env:
  global:
  - secure: QtjGA1az13DSVNzOiQOGpJgaJuF5HM1SXMZZYQv3FfNSL5Ek2pvaT66cFXo2DQucmL6K8yUTOugPMP/d1UJBp/guhmzr8be9XfMRClDNz8ESpWs9gXRrq7BGReIRCnBvfoZOWNTOZhYsgr/6U2srr+2T/Cn6vfsbCRQaeEeEYkg1dzcuSS7jvbYO90WAAAVaXPw3oZ5ypxa7LORla2xJoxQdUQIh1PlWhEARRZ+BXywmcf89pnqGR2ml4wVUlZ91bfpzB9AHntShqod3a4B338qvnwgMW0OWj7oShZq9RCsnrHvmLRkLZ0pqyw8mGzowwUHbrb/qnqAengvCMd2McEOTfab8hT639yPz48z/mZ8CFSf+Vx43G+eLT1l8zlWZY/entV03DB1vkRsV5TPt1Lt5/f+o10muIm1bux8oIRZu49Nl7xpaAJ0UK61A+YWWxTXqn8/67tF+fb2ERVlJlRHNjR3lFmUFVAK7FREq1GjYSsGeKC/LU3JUBmSPmQZLCvvoaK5LZTyjHgGTYy071GXGSX5yTFEhpOXkTMwv8uRkw7bjC7samfAQs8Y4si4lHSlwv+khCdgMMGDxhuFPA0xoDw6NgZuKQR50IPtQgnrd5xc1Cggz/IC3+6BS6zSqXqR/Gi+HBbAbjR/VxAkqSD4IwMNQpYQ0ZiLNV7WxZUA=
  - secure: u3RIqFIk+AvD5z/1yIW3C+pCXZpyu2vxM7T/BSrRNZ62w0vdaDaoSggdDS+68uZh79w1EfyUK3yF+086KMM4IvHFH62d8HP/unBTByiOwOVe8QK/ZDSXo0bsd4zriev2ee+8fX2lxD5MH7kqsuiptfvgAwkWpKAXuJDIcPyvZs96aseEpd7ePKwxV8XQkM6BhSzAuKCbG4xNBNCRnJtSV2+iJ+TNCudcT8HcxP4045BdNwrMlGjBkA9SQ289sNXm3fHOHApwuVo+bMPFfYV5GYcsdjMd4jC1jO0rWHcWmEiMiExB7saGV8t4xyTD9TQeV6kht1Csycfew58hHIInF7Pwbnx2We9D8hSXfyk0ZFdc1MYyNTudJyWoUmNbGZQnGlJMIBb4xVp+0KpiCnb6KD0MGj/8fW+JUTo6RCs0JfsuHYKJekzwn5ZbTBQoguIItgjZmoiohPdp/Q3ciERb7ZoKaNdmHz+raT/clEKwrXXxDQPSex99cg2wuUgEBv5xWWlqBS/ePm11gGtTHx2FG5KUvXBs7toKXNt0TBHubhRI2oa34bzvUSHl8tVGiNWRwX6uUIdSaj35tLGpsmTCmy+mvi3r2AfjygXmq8zEtv0k9IBTtWqUSHaofIrV1lthPsLr5tEx7ywLDPdISnDRzuNlt12LiCf0SPqjLPaZo30=
script:
- sbt ++$TRAVIS_SCALA_VERSION test:fastOptJS test:fullOptJS
- sbt ++$TRAVIS_SCALA_VERSION 'set parallelExecution in ThisBuild := false' test
- sbt ++$TRAVIS_SCALA_VERSION 'set parallelExecution in ThisBuild := false' 'set scalaJSStage
  in ThisBuild := FullOptStage' test
deploy:
  provider: script
  script:
  - /bin/bash "$TRAVIS_BUILD_DIR/.travis.credentials.sh" && sbt +publish
  on:
    tags: true
    all_branches: true
